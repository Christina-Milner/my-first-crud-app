<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype Modelshow Registration</title>
    <link rel="stylesheet" href="style.css">
    <script src="main.js" defer></script>
</head>

<body>    
    <nav class = "pageNav">
        <span><a href="/registration">Registration</a></span>
        <span><a href="/judging">Judging<span></a></span>
        <span><a href="/filters">View/Filter entries</span></a>
    </nav>
    <h1>Miniatures Show Results</h1>
    <a href="/filters"><button id="all">View all</button></a>
    <a href="/filtersbronze"><button id="bronze">Bronze</button></a>
    <a href="/filterssilver"><button id="silver">Silver</button></a>
    <a href="/filtersgold"><button id="gold">Gold</button></a>
    <a href="/filterscorrr"><button id="corrr">CORRR</button></a>
    <a href="/filtersbestofShow"><button id="bestofShow">Best of Show</button></a>
    <a href="/filtersjunBestOfShow"><button id="junBestOfShow">Junior Best of Show</button></a>
    <a href="/filterspeoplesChoice"><button id="peoplesChoice">People's Choice</button></a>
    <a href="/filterssponsors"><button id="sponsors">Sponsor Prizes</button></a>

    <div class="entries">
        <% for(let i = 0; i < info.length; i++) {%>
            <div class="entry" id=<%= info[i].id %>>
                <div>
                    <p>Number:</p>
                    <p>Name:</p>
                </div>
                <div>
                    <p><%= info[i].id %></p>
                    <p><%= info[i].fullName %></p>
                    <p><% for (let prize of Object.keys(info[i].prizes).filter(e => info[i].prizes[e])) {%>
                        <% let prettyfied = {junBestOfShow: "Junior Best of Show", bestofShow: "Best of Show", peoplesChoice: "People's Choice"} %>
                        <span><%- typeof(info[i].prizes[prize]) == "string" ? info[i].prizes[prize][0].toUpperCase() + info[i].prizes[prize].slice(1) + "<br>" :
                               prize == "corrr" ? prize.toUpperCase() + "<br>" :
                               prize in prettyfied ? prettyfied[prize] + "<br>" :
                               typeof(info[i].prizes[prize]) == "object" ?
                                   info[i].prizes[prize].every(e => !e) ? "" :
                                   "Sponsor: " + info[i].prizes[prize] + "<br>" :
                                prize + "<br>" %>
                        </span>
                        <% } %>
                    </p>
                </div>
            </div>
        <% } %>
    </div>

</body>